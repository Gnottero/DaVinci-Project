execute as @e[type=item_frame,nbt={Tags:["Pulverizer"]}] at @s run summon minecraft:item_frame ~ ~ ~ {Tags:["PlacerPulverizer"]}
execute as @e[tag=PlacerPulverizer] run kill @e[type=item_frame,nbt={Tags:["Pulverizer"]}]
execute as @e[tag=PlacerPulverizer] at @s run setblock ~ ~ ~ barrel{CustomName:"{\"text\":\"Pulverizer\"}"}
execute if entity @p[y_rotation=-316..-226] run execute as @e[tag=PlacerPulverizer] at @s run summon armor_stand ~ ~-1 ~ {Marker:1b,Fire:23000s,Invisible:1b,NoGravity:1b,NoBasePlate:1b,Tags:["Pulverizer"],Rotation:[-90f],ArmorItems:[{},{},{},{id:"minecraft:firework_rocket",Count:1b,tag:{CustomModelData:10272727}}]}
execute if entity @p[y_rotation=-407..-317] run execute as @e[tag=PlacerPulverizer] at @s run summon armor_stand ~ ~-1 ~ {Marker:1b,Fire:23000s,Invisible:1b,NoGravity:1b,NoBasePlate:1b,Tags:["Pulverizer"],Rotation:[-180f],ArmorItems:[{},{},{},{id:"minecraft:firework_rocket",Count:1b,tag:{CustomModelData:10272727}}]}
execute if entity @p[y_rotation=-498..-408] run execute as @e[tag=PlacerPulverizer] at @s run summon armor_stand ~ ~-1 ~ {Marker:1b,Fire:23000s,Invisible:1b,NoGravity:1b,NoBasePlate:1b,Tags:["Pulverizer"],Rotation:[-270f],ArmorItems:[{},{},{},{id:"minecraft:firework_rocket",Count:1b,tag:{CustomModelData:10272727}}]}
execute if entity @p[y_rotation=-225..-135] run execute as @e[tag=PlacerPulverizer] at @s run summon armor_stand ~ ~-1 ~ {Marker:1b,Fire:23000s,Invisible:1b,NoGravity:1b,NoBasePlate:1b,Tags:["Pulverizer"],Rotation:[-360f],ArmorItems:[{},{},{},{id:"minecraft:firework_rocket",Count:1b,tag:{CustomModelData:10272727}}]}
execute as @e[tag=Pulverizer] run kill @e[tag=PlacerPulverizer]
execute as @e[tag=Pulverizer,nbt={Fire:0s}] run data merge entity @s {Fire:23000s}
execute as @e[tag=Pulverizer] at @s if block ~ ~1 ~ air run summon item ~ ~ ~ {Item: {id: "minecraft:item_frame", Count: 1b, tag: {CustomModelData: 10272727, display: {Name: "{\"text\":\"Pulverizer\",\"color\":\"dark_gray\",\"bold\":\"true\"}"}, EntityTag: {Tags: ["Pulverizer"]}}}}
execute as @e[tag=Pulverizer] at @s if block ~ ~1 ~ air run kill @e[type=item,nbt={Item:{id:"minecraft:barrel",Count:1b}},distance=..2]
execute as @e[tag=Pulverizer] at @s if block ~ ~1 ~ air run kill @s

#Pulverize
execute as @e[tag=Pulverizer] at @s if block ~ ~1 ~ barrel{Items:[{Slot:13b,id:"minecraft:iron_ore",Count:1b}]} run scoreboard players add @s Pulverizer 1
execute as @e[tag=Pulverizer] at @s if block ~ ~1 ~ barrel{Items:[{Slot:13b,id:"minecraft:gold_ore",Count:1b}]} run scoreboard players add @s Pulverizer 1
execute as @e[tag=Pulverizer] at @s if block ~ ~1 ~ barrel{Items:[{Slot: 13b, id: "minecraft:player_head", Count: 1b, tag: {SkullOwner: {Id: "23945e63-cf8b-492b-9457-1df4d42259ca", Properties: {textures: [{Value: "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWI1ZGI4NDhkZWQ5YzM0ZmZiYzg1MzIzNmE0MTA5Y2UxNjY1ZGE1ZGZlMjk5OTFhM2NkNmVkYTU0ZDNlYzc3In19fQ=="}]}}, display: {Lore: ['{"text":"Holding","color":"white","bold":true}', '{"text":"100 MF / 100 MF","color":"white","bold":true}'], Name: '{"text":"Mana in a Bottle","color":"blue"}'}}}]} run scoreboard players add @s Pulverizer 1
execute as @e[tag=Pulverizer,scores={Pulverizer=200..}] at @s if block ~ ~1 ~ barrel{Items:[{Slot:13b,id:"minecraft:iron_ore",Count:1b}]} run summon item ~ ~2 ~ {Item:{id:"minecraft:iron_ingot",Count:2b,tag:{CustomModelData:10282828,display:{Name:"{\"text\":\"Iron Dust\",\"color\":\"white\",\"bold\":\"true\"}"}}}}
execute as @e[tag=Pulverizer,scores={Pulverizer=200..}] at @s if block ~ ~1 ~ barrel{Items:[{Slot:13b,id:"minecraft:gold_ore",Count:1b}]} run summon item ~ ~2 ~ {Item:{id:"minecraft:iron_ingot",Count:2b,tag:{CustomModelData:10292929,display:{Name:"{\"text\":\"Gold Dust\",\"color\":\"gold\",\"bold\":\"true\"}"}}}}
execute as @e[tag=Pulverizer,scores={Pulverizer=200..}] at @s if block ~ ~1 ~ barrel{Items:[{Slot: 13b, id: "minecraft:player_head", Count: 1b, tag: {SkullOwner: {Id: "23945e63-cf8b-492b-9457-1df4d42259ca", Properties: {textures: [{Value: "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWI1ZGI4NDhkZWQ5YzM0ZmZiYzg1MzIzNmE0MTA5Y2UxNjY1ZGE1ZGZlMjk5OTFhM2NkNmVkYTU0ZDNlYzc3In19fQ=="}]}}, display: {Lore: ['{"text":"Holding","color":"white","bold":true}', '{"text":"100 MF / 100 MF","color":"white","bold":true}'], Name: '{"text":"Mana in a Bottle","color":"blue"}'}}}]} run summon item ~ ~2 ~ {Item:{id:"minecraft:gunpowder",Count:2b,tag:{CustomModelData:10484848,display:{Name:"{\"text\":\"Mana Dust\",\"color\":\"aqua\",\"bold\":\"true\"}"}}}}
execute as @e[tag=Pulverizer,scores={Pulverizer=200..}] at @s run replaceitem block ~ ~1 ~ container.13 air
execute as @e[tag=Pulverizer,scores={Pulverizer=200..}] run scoreboard players reset @s Pulverizer
